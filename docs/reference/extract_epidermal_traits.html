<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract epidermal traits from an image — extract_epidermal_traits • epidermalmorph</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract epidermal traits from an image — extract_epidermal_traits"><meta property="og:description" content="This function extracts various epidermal traits from an image that has been converted to sf polygons"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epidermalmorph</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction-to-epidermalmorph.html">Introduction to epidermalmorph</a>
    </li>
    <li>
      <a href="../articles/measuring-different-morphologies.html">Measuring different epidermal morphologies with epidermalmorph</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract epidermal traits from an image</h1>
    
    <div class="hidden name"><code>extract_epidermal_traits.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function extracts various epidermal traits from an image that has been converted to <code>sf</code> polygons</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_epidermal_traits</span><span class="op">(</span></span>
<span>  image.ID <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  <span class="va">cell.polygons</span>,</span>
<span>  <span class="va">junction.points</span>,</span>
<span>  cells.present <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pavement"</span>, <span class="st">"stomata"</span>, <span class="st">"subsidiary"</span><span class="op">)</span>,</span>
<span>  <span class="va">cell.values</span>,</span>
<span>  paired.guard.cells <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  NA.value <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  image.scale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  image.alignment <span class="op">=</span> <span class="st">"horizontal"</span>,</span>
<span>  stomatal.north <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wall.width <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  stomatal.shape <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stomatal.arrangement <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sd.measures <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  specific.inclusions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  specific.exclusions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sd.as.percent.of.mean <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>image.ID</dt>
<dd><p>Character. Identifier for the cells (e.g. accession number,
species). Defaults to NA.</p></dd>


<dt>cell.polygons</dt>
<dd><p>Object of class <code>sf</code>. The image to be measured, converted
to polygons (e.g. using <code><a href="image_to_poly.html">image_to_poly()</a></code>)</p></dd>


<dt>junction.points</dt>
<dd><p>Either a numeric matrix or <code>sf MULTIPOINTS</code> object with the
coordinates of the cell wall junctions (e.g. as output by
<code><a href="image_to_poly.html">image_to_poly()</a></code>)</p></dd>


<dt>cells.present</dt>
<dd><p>Character. A vector containing the names of all the
types of cells present. Defaults to <code>c("pavement", "stomata",
"subsidiary")</code></p></dd>


<dt>cell.values</dt>
<dd><p>A vector containing the values of all the types of cells
present (usually numeric), see details.</p></dd>


<dt>paired.guard.cells</dt>
<dd><p>Logical. Are guard cells annotated individually (TRUE), or as a single unit (FALSE)?
Defaults to FALSE.</p></dd>


<dt>NA.value</dt>
<dd><p>A vector of length 1, with the value for NA regions of the
image (e.g. damaged or un-traced regions).</p></dd>


<dt>image.scale</dt>
<dd><p>Numeric. The number of pixels per micron (or any other unit -
measurements will be returned in this unit). Defaults to NULL (measurements
in pixels).</p></dd>


<dt>image.alignment</dt>
<dd><p>Character. The (general) axis of the image on the leaf.
If "horizontal" (default), stomatal north is calculated around 0. If the image
is vertically aligned, use "vertical" so that stomata are measured around the 90
degree axis. If stomata are randomly aligned and/or the leaf axis is unknown,
this can be set to "none".</p></dd>


<dt>stomatal.north</dt>
<dd><p>Numeric.  The (precise) angle of rotation of the image on the leaf.
If NULL (the default), stomatal north is calculated from the angles of all stomata.
If stomata are randomly aligned, set to 0.
If rotation is known, can be set to the clockwise angle (in degrees) that image is to be rotated.
In some cases, it might be useful to set this to 'pavement north' (mean angle
of pavement cells) and traits re-extracted.</p></dd>


<dt>wall.width</dt>
<dd><p>Numeric. How many pixels wide are the cell walls? Only
used for identifying neighbours; defaults to 3. Note: width is before scaling;
can be increased for a more generous buffer (i.e. more inclusive in finding
neighbours).</p></dd>


<dt>stomatal.shape</dt>
<dd><p>Logical. Include measurements of stomatal shape
(`nsubcells,subsarea,gclength,AR,butterfly,symmetry`); defaults to TRUE.
Defaults to TRUE, see details.</p></dd>


<dt>stomatal.arrangement</dt>
<dd><p>Logical. Include measurements of stomatal
arrangement (`dist.between.stom.rows, row.consistency, row.wiggliness,stom.angle.sd, stom.distNN, stom.dist2NN, stom.spacingNN`);
defaults to TRUE, see Details.</p></dd>


<dt>sd.measures</dt>
<dd><p>Logical. Return standard deviation of variables? This
argument controls the measurement of variability of traits within an
image; it is only recommended to use this when a) the sample size is
high, or b) there is strong indication that these traits are useful.
 Defaults to FALSE.</p></dd>


<dt>specific.inclusions</dt>
<dd><p>Character. Cell measurements to include;
see Details for options.</p></dd>


<dt>specific.exclusions</dt>
<dd><p>Character. Cell measurements to exclude;
can be passed as key words (e.g. "AR", "undulation", "pavezone").</p></dd>


<dt>sd.as.percent.of.mean</dt>
<dd><p>Logical. Should variability measures be
presented as percentage of the mean? Defaults to FALSE.</p></dd>


<dt>verbose</dt>
<dd><p>Logical. Should progress output be printed in the console?
Defaults to TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of length three, containing a vector with whole-image values,
a data.frame of pavement cell values and a data.frame of stomatal values.
Variables are coded as 'celltype.trait.statistic' (e.g. `pavezone.area.sd`).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function contains the script for all measurements. Each type
of cell (e.g. pavement, stomate) should have a name and corresponding value
given in <code>cells.present</code> and <code>cell.values</code>, respectively. If
there are unnamed values in the image, these will be measured as
'othertype1', 'othertype2' and so forth. Only limited numbers of
measurements will be taken for these cell types (index, density, area,
spacing and distance to nearest neighbour). If only a subset of variables is
desired, this can can be set using the arguments <code> stomatal.shape,
stomatal.arrangement, pavement.cells, sd.measures, specific.inclusions,
specific.exclusions</code>. Pavement cells are designated as `polar` (if touching
the guard cells; we acknowledge that this is not the most universal term for
possible subsidiary cells but lack an alternative), `stomzone` (for cells that
are exactly two neightbours from the guard cells and are likely to be distorted)
and `pavezone` (cells that are &gt;2 neighbours from the guard cells and are
thus unlikely to be distorted).</p>
<p>For a full list of variables and descriptions of what they measure,
see the data `trait_key`, the corresponding paper (for graphical descriptions),
and the vignettes.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matilda Brown.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

